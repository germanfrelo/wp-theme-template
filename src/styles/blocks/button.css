/* ======================================================================
BUTTON
====================================================================== */

/* ----------------------------------------------------------------------
Configuration
---------------------------------------------------------------------- */

/* Shared configuration */

.button,
.wp-block-button,
.wp-block-read-more {
	--button-border-color-on-hover: var(--button-color-background-on-hover, currentcolor);
	--button-border-color: var(--button-color-background, currentcolor);
	--button-border-radius: var(--radius-medium, 0);
	--button-border-width: var(--stroke-weight-medium, 2px);
	--button-color-background-on-hover: var(--wp--preset--color--primary-darker, transparent);
	--button-color-background: var(--wp--preset--color--primary-medium, transparent);
	--button-color-text-on-hover: var(--wp--preset--color--surface-1, inherit);
	--button-color-text: var(--wp--preset--color--surface-1, inherit);
	--button-display: inline-block;
	--button-font-size: inherit;
	--button-font-weight: var(--font-weight-medium, inherit);
	--button-gap: 0.875em;
	--button-icon-size: 1.25em;
	--button-line: none;
	--button-padding-block: 0.25em;
	--button-padding-inline: 2em;
	--button-text-align: center;
	--button-transition-duration: var(--transition-duration, 0);
}

.wp-block-read-more {
	--button-gap: 1em;
	--button-icon-size: 1em;
}

/* Custom style variations */

:is(.button, .wp-block-button, .wp-block-read-more).is-style-outline {
	--button-border-color-on-hover: var(--button-color-background-on-hover, currentcolor);
	--button-border-color: var(--button-color-text, currentcolor);
	--button-color-background-on-hover: var(--wp--preset--color--primary-darker, transparent);
	--button-color-background: var(--wp--preset--color--surface-1, transparent);
	--button-color-text-on-hover: var(--wp--preset--color--surface-1, inherit);
	--button-color-text: var(--wp--preset--color--primary-medium, inherit);
	--button-padding-inline: 1em;
}

:is(.button, .wp-block-button, .wp-block-read-more).is-style-default-inverted {
	--button-color-background-on-hover: var(--button-color-background, transparent);
	--button-color-background: var(--wp--preset--color--surface-1, transparent);
	--button-color-text-on-hover: var(--wp--preset--color--text-1, inherit);
	--button-color-text: var(--wp--preset--color--primary-medium, inherit);
}

:is(.button, .wp-block-button, .wp-block-read-more).is-style-plain-text {
	--button-border-width: 0;
	--button-color-background-on-hover: transparent;
	--button-color-background: transparent;
	--button-color-text-on-hover: var(--link-color-on-hover);
	--button-color-text: inherit;
	--button-padding-block: 0;
	--button-padding-inline: 0;
}

:is(.button, .wp-block-button, .wp-block-read-more).is-style-plain-text-underlined {
	--button-border-width: 0;
	--button-color-background-on-hover: transparent;
	--button-color-background: transparent;
	--button-color-text-on-hover: var(--link-color-on-hover);
	--button-color-text: inherit;
	--button-line: underline;
	--button-padding-block: 0;
	--button-padding-inline: 0;
}

/* ----------------------------------------------------------------------
Styles
---------------------------------------------------------------------- */

button.wp-element-button {
	cursor: default; /* Override WP's default 'pointer' */
}

.button,
.wp-block-button > .wp-block-button__link,
.wp-block-read-more {
	display: var(--button-display, inline-block);
	align-content: center;
	padding-block: var(--button-padding-block, 0.5em);
	padding-inline: var(--button-padding-inline, 1em);
	font-size: var(--button-font-size, inherit);
	font-weight: var(--button-font-weight, inherit);
	line-height: var(--leading-base, inherit);
	color: var(--button-color-text, unset);
	text-align: var(--button-text-align, center);
	text-decoration-line: var(--button-line, none);
	background-color: var(--button-color-background, transparent);
	border-color: var(--button-border-color, currentcolor);
	border-style: solid;
	border-width: var(--button-border-width, 0);
	border-radius: var(--button-border-radius, 0);
	transition-duration: var(--button-transition-duration, var(--transition-duration, 0));
	transition-property: color, background-color, border-color;
}

/*
Needed to make the buttons stretch correctly in a vertical layout.
See https://github.com/WordPress/gutenberg/commit/2036d7e and https://github.com/WordPress/gutenberg/commit/0100e98
*/
:where(.wp-block-buttons.is-layout-flex) > .wp-block-button > .wp-block-button__link {
	inline-size: 100%;
	block-size: 100%;
}

/* Button with icon */

:is(.button, .wp-block-button > .wp-block-button__link, .wp-block-read-more):has(> :is(img, svg)) {
	--button-display: flex;
	display: var(--button-display, flex);
	flex-wrap: nowrap;
	gap: var(--button-gap, 0.75em);
	align-items: center;
	justify-content: center;
}

/* Icon */

:is(.button, .wp-block-button > .wp-block-button__link, .wp-block-read-more) > :is(img, svg, .icon) {
	flex-shrink: 0;
	inline-size: auto;
	block-size: var(--button-icon-size, 1.25em);
}

/* Pseudo-classes */

:is(.button, .wp-block-button > .wp-block-button__link, .wp-block-read-more):is(:hover, :focus-visible) {
	color: var(--button-color-text-on-hover, unset);
	background-color: var(--button-color-background-on-hover, transparent);
	border-color: var(--button-border-color-on-hover, transparent);
}
